<!DOCTYPE html>
<html>
<head>
  <title>Gerar Vídeo</title>
  <style>
    body, html { margin:0; padding:0; height:100%; font-family:Arial,sans-serif; background:#f5f5f5; }
    .container { display:flex; flex-direction:column; justify-content:center; align-items:center; height:100%; text-align:center; }
    input, button { padding:10px; margin:5px; font-size:16px; }
    button { cursor:pointer; background:#4caf50; color:white; border:none; border-radius:5px; }
    #loading { display:none; margin-top:20px; font-size:18px; color:#333; }
  </style>
</head>
<body>
<div class="container">
  <h1>Upload de Imagem e Vídeo</h1>
  <form id="upload-form" method="post" enctype="multipart/form-data">
    <label>Imagem:</label><br>
    <input type="file" name="image" required><br><br>
    <label>Vídeo (para pegar áudio):</label><br>
    <input type="file" name="video" required><br><br>
    <button type="submit">OK</button>
  </form>

  <div id="loading">Processando... aguarde</div>
</div>

<script>
const form = document.getElementById("upload-form");
const loading = document.getElementById("loading");

form.addEventListener("submit", function(e) {
    e.preventDefault();
    const formData = new FormData(form);

    // Mostra mensagem de carregando
    loading.style.display = "block";

    fetch("/", { method: "POST", body: formData })
    .then(response => response.text())
    .then(html => {
        // Quando terminar, substitui pelo HTML de download
        document.body.innerHTML = html;
    })
    .catch(err => {
        loading.style.display = "none";
        alert("Erro: " + err);
    });
});
</script>
</body>
</html>
